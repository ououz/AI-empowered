<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>职业库 - 大学生职业竞争力赋能平台</title>
  <a href="login.html" id="navLogin">登录/注册</a>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: white;
      color: #333;
    }

    .main-content {
      margin-top: 60px;
      /* 顶栏高度 */
      padding: 1spx;
    }


    .navbar {
      height: 66px;
      position: fixed;
      width: 100%;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      background: white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      z-index: 1002;
    }

    /* 滚动时阴影效果 */
    .navbar.scrolled {
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .navbar>div:first-child {
      margin-right: auto;
      /* 将标题推到最左侧 */
      padding-left: 60px;
      /* 增加左侧间距 */
    }


    .navbar a {
      color: rgb(110, 105, 105);
      text-decoration: none;
      margin: 0 1rem;
    }


    .welcome-text {
      order: 2;
      /* 欢迎文字第二个 */
    }


    .career-library-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 1rem;
      background: white;
      border-radius: 8px;

      display: flex;
      position: relative;
    }

    .career-category-sidebar {
      left: 0;
      width: 20%;
      position: sticky;
      top: 80px;
      /* 固定时的顶部距离 */
      align-self: flex-start;
      height: calc(100vh - 100px);
      overflow-y: auto;
      transition: all 0.3s;
      overflow-y: auto;
      background: white;
      z-index: 1000;
      padding: 1rem;
    }

    .career-category-sidebar h2 {
      color: #000000;
      margin-bottom: 1rem;
    }

    .career-category-sidebar ul {
      list-style: none;
      padding: 0;
    }

    .career-category-sidebar li {
      margin-bottom: 0.5rem;
    }

    .career-category-sidebar a {
      text-decoration: none;
      color: #666;
      font-weight: bold;
    }

    .scrolled-sidebar {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }

    .career-category-sidebar a:hover {
      color: #0073e6;
    }

    .career-content {

      width: 80%;
      padding: 0 2rem;
    }



    .search-result-card {
      background: white;
      padding: 1.5rem;
      margin: 1rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .search-result-card:hover {
      transform: translateY(-3px);
    }

    .no-results {
      text-align: center;
      padding: 2rem;
      color: #666;
    }

    .view-link {
      color: #0073e6;
      display: inline-flex;
      align-items: center;
      margin-top: 1rem;
    }

    .career-category {
      margin-bottom: 2rem;
    }

    .career-category h2 {
      color: #000000;
      margin-bottom: 1rem;
    }

    .career-list {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .career-card {
      background: #f9f9f9;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      width: calc(33.333% - 1rem);
      text-align: center;
    }

    .career-card h3 {
      margin-bottom: 0.5rem;
    }

    .footer {
      background-color: #333;
      color: white;
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
    }

    .nav-item {
      display: block;
      padding: 12px 2px !important;
      margin: 8px 0;
      border-radius: 8px;
      color: rgb(110, 105, 105);
      text-decoration: none;
      transition: all 0.3s;
      white-space: nowrap
    }

    .nav-item:hover {
      background: #0073e610;
      transform: translateX(5px);
    }



    /* 修正侧边栏样式 */
    .sidebar {
      width: 310px;
      height: 100vh;
      position: fixed;
      top: 0;
      white-space: nowrap;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1003;
      background: white;
    }

    .sidebar-title {
      font-size: 1.2rem;
      color: #4d4c4c;
      /* 始终显示平台标题 */
      display: block !important;
      /* 删除过渡动画 */
      transition: none !important;
    }

    .sidebar.active {
      left: 0;
      box-shadow: 4px 0 16px rgba(0, 0, 0, 0.2);
    }

    .sidebar.active+.navbar {
      transform: translateX(280px);
    }


    .sidebar-close {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
    }

    /* 新增动画相关样式 */
    .layout-container {
      display: flex;
      min-height: 100vh;
      margin-top: 60px;
    }

    .navbar .sidebar-toggle {
      display: block !important;
    }

    /* 添加遮罩层样式 */
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1001;
      display: none;
    }

    /* 新增侧边栏图标样式 */
    .sidebar-header {
      display: flex;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid #eee;
    }

    .sidebar-toggle {
      height: 100%;
      padding: 0 rem;
      display: flex;
      align-items: center;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: #313131;
      cursor: pointer;
      z-index: 1001;
    }

    .sidebar.compact {
      width: 60px;
      left: 0;
      align-items: center;
      /* 新增水平居中 */
    }


    /* 修复紧凑模式图标显示 */
    .sidebar.compact .material-icons {
      margin: 0 auto;
      /* 图标居中 */
      display: block !important;
      transform: scale(1.2);
    }


    /* 新增精确控制 */
    .sidebar.compact .nav-item span:not(.material-icons) {
      display: none !important;
    }


    /* 展开状态下的图标定位 */
    .sidebar:not(.compact) .material-icons {
      margin-right: 12px;
    }

    /* 添加标题显示控制 */
    .sidebar.compact .sidebar-title {
      display: none !important;
    }



    /* 新增用户控制按钮 */
    .user-controls {
      display: flex;
      align-items: center;
      gap: 15px;
      position: static;
      /* 移除绝对定位 */
      order: 1;
      /* 确保在flex容器中排在搜索框之后 */
    }

    .material-icons {
      margin-right: -40px;
    }

    /* 登录按钮美化 */
    .btn-login {
      background: transparent;
      border: 1px solid #0073e6;
      color: #0073e6;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;

    }

    .btn-login:hover::before {
      left: 100%;
    }

    .btn-login:hover {
      background: #0073e610;
    }

    .btn-login:active {
      transform: translateY(0);
      box-shadow: 0 4px 8px rgba(0, 115, 230, 0.3);
    }

    .btn-logout {
      background: transparent;
      border: 1px solid #0073e6;
      color: #0073e6;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      margin-left: 50px;
      margin-right: 40px;
    }


    .btn-logout:hover {
      background: #0073e610;
    }


    /* 新增 Material Icons 样式 */
    .material-icons {
      vertical-align: middle;
      font-size: 1.5rem;
      color: inherit;
    }

    .search-container {
      margin-right: 30px;
      width: 300px;
    }


    .search-input:focus {
      outline: none;
      box-shadow: none;
    }

    /* + 新增搜索框美化样式 */
    .search-container {
      position: relative;
      margin-right: 100px;
      width: 800px;
      background: #f8f9fa;
      border-radius: 25px;
      padding: 8px 20px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
    }

    .search-input {
      border: none;
      background: transparent;
      width: 100%;
      padding: 0 10px;
      font-size: 14px;
    }

    .search-icon {
      color: #666;
      right: 15px;
      font-size: 20px;
      display: flex;
      align-items: center;
      margin-left: 10px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0 10px;
      display: flex;
      align-items: center;
    }

    .search-container:focus-within::after {
      opacity: 1;
    }

    /* + 调整个人中心位置 */
    .nav-dynamic {
      display: flex;
      align-items: center;
      gap: 20px;
      position: absolute;
      right: 200px;
      top: 50%;
      transform: translateY(-50%);
    }


    .data-header {
      padding: 32px 5% 16px;
      border-bottom: none;
    }

    .data-header h1 {
      font-size: 40px;
      margin-bottom: 8px;
      margin-top: 1px;
      margin-left: 15px;
      color: #1a1a1a;
    }

    .description {
      color: #666;
      font-size: 14px;
      line-height: 1.5;
      margin-left: 15px;
      max-width: 560px;
    }
  </style>
</head>

<body>
  <div class="navbar">
    <div>大学生职业竞争力赋能平台</div>
    <div class="user-controls" id="navAuth"></div>
    <div class="nav-dynamic" id="navDynamic">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="搜索" class="search-input">
        <button class="search-icon" onclick="handleSearch()">
          <span class="material-icons">search</span>
        </button>
      </div>
      <div class="post-login" id="postLogin">
        <a href="profile.html" class="profile-link">
          <span class="material-icons">person</span>
        </a>
      </div>
    </div>
    <div class="sidebar compact">
      <div class="sidebar-header">
        <button class="sidebar-toggle" onclick="toggleSidebar()">☰</button>
        <div class="sidebar-title">菜单</div>
      </div>
      <a href="index.html" class="nav-item">
        <span class="material-icons">home</span>
        <span>首页</span>
      </a>

      <a href="courses.html" class="nav-item">
        <span class="material-icons" aria-hidden="true">menu_book</span>
        <span>课程</span>
      </a>

      <a href="assessment.html" class="nav-item">
        <span class="material-icons" aria-hidden="true">assignment</span>
        <span>测评</span>
      </a>

      <a href="career-library.html" class="nav-item">
        <span class="material-icons" aria-hidden="true">business_center</span>
        <span>职业库</span>
      </a>

      <a href="community.html" class="nav-item">
        <span class="material-icons" aria-hidden="true">forum</span>
        <span>社区</span>
      </a>

      <a href="search.html" class="nav-item">
        <span class="material-icons" aria-hidden="true">search</span>
        <span>搜索</span>
      </a>

      <a href="profile.html" class="nav-item">

        <span class="material-icons" aria-hidden="true">person</span>
        <span>个人中心</span>
      </a>
    </div>
  </div>

  <div class="main-content">

    <div class="data-header" style="display: flex; align-items: center;">
      <div>
        <h1>职业库</h1>
        <p class="description">覆盖2000+新兴职业数据库<br>获取最新职业需求信息，洞悉行业发展趋势</p>
      </div>
      <div style="flex: 1;">
        <img src="images/courese.webp" alt="卡通狮子头像"
          style="width: 25%; height: auto; border-radius: 8px;margin-left: 70%;">
      </div>

    </div>
    <div class="career-library-container ">
      <!-- 左侧职业分类栏 -->
      <div class="career-category-sidebar main-content">
        <h2>职业分类</h2>
        <ul>
          <li><a href="#technology">技术类职业</a></li>
          <li><a href="#marketing">市场类职业</a></li>
          <li><a href="#management">管理类职业</a></li>
          <li><a href="#finance">金融类职业</a></li>
          <li><a href="#education">教育类职业</a></li>
          <li><a href="#healthcare">医疗类职业</a></li>
          <li><a href="#creative">创意类职业</a></li>
          <li><a href="#engineering">工程类职业</a></li>
          <li><a href="#legal">法律类职业</a></li>
          <li><a href="#logistics">物流类职业</a></li>
        </ul>
      </div>

      <!-- 右侧职业内容 -->
      <div class="career-content">
        <div class="search-container" style="margin: 0 auto 2rem; width: 80%;">
          <input type="text" id="careerSearchInput" placeholder="输入职业名称进行搜索..." class="search-input"
            onkeypress="if(event.key === 'Enter') searchCareers()">
          <button class="search-icon" onclick="searchCareers()">
            <span class="material-icons">search</span>
          </button>
        </div>
        <div class="search-results" id="searchResults">
          <!-- 搜索结果将动态显示在这里 -->
        </div>
        <!-- 技术类职业 -->
        <div class="career-category" id="technology">
          <h2>技术类职业</h2>
          <div class="career-list">
            <div class="career-card" id="software-engineer">
              <h3>软件开发工程师</h3>
              <p>负责设计、开发和维护软件系统。</p>
            </div>
            <div class="career-card" id="data-scientist">
              <h3>数据科学家</h3>
              <p>通过数据分析为企业提供决策支持。</p>
            </div>
            <div class="career-card" id="cybersecurity-engineer">
              <h3>网络安全工程师</h3>
              <p>保护企业网络系统免受攻击。</p>
            </div>
            <div class="career-card" id="ai-engineer">
              <h3>人工智能工程师</h3>
              <p>开发和优化人工智能算法。</p>
            </div>
            <div class="career-card" id="cloud-engineer">
              <h3>云计算工程师</h3>
              <p>负责云平台的设计和维护。</p>
            </div>
          </div>
        </div>

        <!-- 市场类职业 -->
        <div class="career-category" id="marketing">
          <h2>市场类职业</h2>
          <div class="career-list">
            <div class="career-card" id="marketing-manager">
              <h3>市场营销经理</h3>
              <p>制定并执行市场推广策略。</p>
            </div>
            <div class="career-card" id="brand-manager">
              <h3>品牌经理</h3>
              <p>负责品牌建设和推广。</p>
            </div>
            <div class="career-card" id="digital-marketing-expert">
              <h3>数字营销专家</h3>
              <p>通过数字渠道进行营销推广。</p>
            </div>
            <div class="career-card" id="market-analyst">
              <h3>市场分析师</h3>
              <p>分析市场趋势和消费者行为。</p>
            </div>
            <div class="career-card" id="pr-manager">
              <h3>公关经理</h3>
              <p>负责企业公共关系的维护。</p>
            </div>
          </div>
        </div>

        <!-- 管理类职业 -->
        <div class="career-category" id="management">
          <h2>管理类职业</h2>
          <div class="career-list">
            <div class="career-card" id="project-manager">
              <h3>项目经理</h3>
              <p>负责项目的规划、执行和监控。</p>
            </div>
            <div class="career-card" id="product-manager">
              <h3>产品经理</h3>
              <p>负责产品的全生命周期管理。</p>
            </div>
            <div class="career-card" id="operations-manager">
              <h3>运营经理</h3>
              <p>优化企业运营流程，提升效率。</p>
            </div>
            <div class="career-card" id="hr-manager">
              <h3>人力资源经理</h3>
              <p>负责企业人力资源的管理和开发。</p>
            </div>
            <div class="career-card" id="supply-chain-manager">
              <h3>供应链经理</h3>
              <p>优化供应链管理，降低成本。</p>
            </div>
          </div>
        </div>

        <!-- 金融类职业 -->
        <div class="career-category" id="finance">
          <h2>金融类职业</h2>
          <div class="career-list">
            <div class="career-card" id="investment-banker">
              <h3>投资银行家</h3>
              <p>负责企业融资和并购业务。</p>
            </div>
            <div class="career-card" id="financial-analyst">
              <h3>财务分析师</h3>
              <p>分析企业财务状况，提供决策支持。</p>
            </div>
            <div class="career-card" id="risk-manager">
              <h3>风险管理师</h3>
              <p>评估和管理企业风险。</p>
            </div>
            <div class="career-card" id="insurance-actuary">
              <h3>保险精算师</h3>
              <p>设计和管理保险产品。</p>
            </div>
            <div class="career-card" id="tax-consultant">
              <h3>税务顾问</h3>
              <p>提供税务规划和咨询服务。</p>
            </div>
          </div>
        </div>

        <!-- 教育类职业 -->
        <div class="career-category" id="education">
          <h2>教育类职业</h2>
          <div class="career-list">
            <div class="career-card" id="teacher">
              <h3>教师</h3>
              <p>负责教育和教学工作。</p>
            </div>
            <div class="career-card" id="education-researcher">
              <h3>教育研究员</h3>
              <p>进行教育研究和教育政策分析。</p>
            </div>
            <div class="career-card" id="education-technologist">
              <h3>教育技术专家</h3>
              <p>利用技术改进教学方法。</p>
            </div>
          </div>
        </div>

        <!-- 医疗类职业 -->
        <div class="career-category" id="healthcare">
          <h2>医疗类职业</h2>
          <div class="career-list">
            <div class="career-card" id="doctor">
              <h3>医生</h3>
              <p>诊断和治疗疾病，提供医疗服务。</p>
            </div>
            <div class="career-card" id="nurse">
              <h3>护士</h3>
              <p>提供护理服务，协助医生治疗患者。</p>
            </div>
            <div class="career-card" id="pharmacist">
              <h3>药剂师</h3>
              <p>负责药品的调配和管理，提供用药指导。</p>
            </div>
            <div class="career-card" id="dentist">
              <h3>牙医</h3>
              <p>诊断和治疗口腔疾病，提供牙齿护理。</p>
            </div>
            <div class="career-card" id="physical-therapist">
              <h3>物理治疗师</h3>
              <p>通过物理疗法帮助患者恢复身体功能。</p>
            </div>
          </div>
        </div>

        <!-- 创意类职业 -->
        <div class="career-category" id="creative">
          <h2>创意类职业</h2>
          <div class="career-list">
            <div class="career-card" id="graphic-designer">
              <h3>平面设计师</h3>
              <p>负责视觉设计和创意表达。</p>
            </div>
            <div class="career-card" id="ui-ux-designer">
              <h3>UI/UX设计师</h3>
              <p>设计用户界面和用户体验。</p>
            </div>
            <div class="career-card" id="photographer">
              <h3>摄影师</h3>
              <p>拍摄和编辑照片，捕捉精彩瞬间。</p>
            </div>
            <div class="career-card" id="video-editor">
              <h3>视频剪辑师</h3>
              <p>负责视频的剪辑和后期制作。</p>
            </div>
            <div class="career-card" id="copywriter">
              <h3>文案策划</h3>
              <p>撰写广告文案和宣传内容。</p>
            </div>
          </div>
        </div>

        <!-- 工程类职业 -->
        <div class="career-category" id="engineering">
          <h2>工程类职业</h2>
          <div class="career-list">
            <div class="career-card" id="mechanical-engineer">
              <h3>机械工程师</h3>
              <p>设计和维护机械设备。</p>
            </div>
            <div class="career-card" id="electrical-engineer">
              <h3>电气工程师</h3>
              <p>设计和维护电气系统。</p>
            </div>
            <div class="career-card" id="civil-engineer">
              <h3>土木工程师</h3>
              <p>负责建筑和基础设施的设计与施工。</p>
            </div>
            <div class="career-card" id="chemical-engineer">
              <h3>化学工程师</h3>
              <p>设计和优化化学工艺流程。</p>
            </div>
            <div class="career-card" id="environmental-engineer">
              <h3>环境工程师</h3>
              <p>解决环境问题，设计环保方案。</p>
            </div>
          </div>
        </div>

        <!-- 法律类职业 -->
        <div class="career-category" id="legal">
          <h2>法律类职业</h2>
          <div class="career-list">
            <div class="career-card" id="lawyer">
              <h3>律师</h3>
              <p>提供法律咨询和代理服务。</p>
            </div>
            <div class="career-card" id="judge">
              <h3>法官</h3>
              <p>审理案件并作出判决。</p>
            </div>
            <div class="career-card" id="paralegal">
              <h3>法律助理</h3>
              <p>协助律师处理法律事务。</p>
            </div>
            <div class="career-card" id="legal-consultant">
              <h3>法律顾问</h3>
              <p>为企业提供法律建议和风险评估。</p>
            </div>
            <div class="career-card" id="notary-public">
              <h3>公证员</h3>
              <p>负责公证法律文件和事务。</p>
            </div>
          </div>
        </div>

        <!-- 物流类职业 -->
        <div class="career-category" id="logistics">
          <h2>物流类职业</h2>
          <div class="career-list">
            <div class="career-card" id="logistics-manager">
              <h3>物流经理</h3>
              <p>优化物流流程，降低成本。</p>
            </div>
            <div class="career-card" id="supply-chain-analyst">
              <h3>供应链分析师</h3>
              <p>分析供应链数据，提供优化建议。</p>
            </div>
            <div class="career-card" id="warehouse-manager">
              <h3>仓库经理</h3>
              <p>负责仓库的管理和运营。</p>
            </div>
            <div class="career-card" id="transportation-coordinator">
              <h3>运输协调员</h3>
              <p>协调运输计划，确保货物准时送达。</p>
            </div>
            <div class="career-card" id="procurement-specialist">
              <h3>采购专员</h3>
              <p>负责采购物资，优化采购流程。</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>&copy; 2023 大学生职业竞争力赋能平台. 保留所有权利.</p>
      <p>联系我们: info@careerempower.com</p>
    </div>
  </div>
  <script>
    const careers = [
      { id: "software-engineer", title: "软件开发工程师", description: "负责设计、开发和维护软件系统。" },
      { id: "data-scientist", title: "数据科学家", description: "通过数据分析为企业提供决策支持。" },
      { id: "cybersecurity-engineer", title: "网络安全工程师", description: "保护企业网络系统免受攻击。" },
      { id: "marketing-manager", title: "市场营销经理", description: "制定并执行市场推广策略。" },
      { id: "brand-manager", title: "品牌经理", description: "负责品牌建设和推广。" },
      { id: "digital-marketing-expert", title: "数字营销专家", description: "通过数字渠道进行营销推广。" },
      { id: "project-manager", title: "项目经理", description: "负责项目的规划、执行和监控。" },
      { id: "product-manager", title: "产品经理", description: "负责产品的全生命周期管理。" },
      { id: "operations-manager", title: "运营经理", description: "优化企业运营流程，提升效率。" },
      { id: "investment-banker", title: "投资银行家", description: "负责企业融资和并购业务。" },
      { id: "financial-analyst", title: "财务分析师", description: "分析企业财务状况，提供决策支持。" },
      { id: "risk-manager", title: "风险管理师", description: "评估和管理企业风险。" },
      { id: "insurance-actuary", title: "保险精算师", description: "设计和管理保险产品。" },
      { id: "tax-consultant", title: "税务顾问", description: "提供税务规划和咨询服务。" },
      { id: "teacher", title: "教师", description: "负责教育和教学工作。" },
      { id: "education-researcher", title: "教育研究员", description: "进行教育研究和教育政策分析。" },
      { id: "education-technologist", title: "教育技术专家", description: "利用技术改进教学方法。" },
      { id: "doctor", title: "医生", description: "诊断和治疗疾病，提供医疗服务。" },
      { id: "nurse", title: "护士", description: "提供护理服务，协助医生治疗患者。" },
      { id: "pharmacist", title: "药剂师", description: "负责药品的调配和管理，提供用药指导。" },
      { id: "dentist", title: "牙医", description: "诊断和治疗口腔疾病，提供牙齿护理。" },
      { id: "physical-therapist", title: "物理治疗师", description: "通过物理疗法帮助患者恢复身体功能。" },
      { id: "graphic-designer", title: "平面设计师", description: "负责视觉设计和创意表达。" },
      { id: "ui-ux-designer", title: "UI/UX设计师", description: "设计用户界面和用户体验。" },
      { id: "photographer", title: "摄影师", description: "拍摄和编辑照片，捕捉精彩瞬间。" },
      { id: "video-editor", title: "视频剪辑师", description: "负责视频的剪辑和后期制作。" },
      { id: "copywriter", title: "文案策划", description: "撰写广告文案和宣传内容。" },
      { id: "mechanical-engineer", title: "机械工程师", description: "设计和维护机械设备。" },
      { id: "electrical-engineer", title: "电气工程师", description: "设计和维护电气系统。" },
      { id: "civil-engineer", title: "土木工程师", description: "负责建筑和基础设施的设计与施工。" },
      { id: "chemical-engineer", title: "化学工程师", description: "设计和优化化学工艺流程。" },
      { id: "environmental-engineer", title: "环境工程师", description: "解决环境问题，设计环保方案。" },
      { id: "lawyer", title: "律师", description: "提供法律咨询和代理服务。" },
      { id: "judge", title: "法官", description: "审理案件并作出判决。" },
      { id: "paralegal", title: "法律助理", description: "协助律师处理法律事务。" },
      { id: "legal-consultant", title: "法律顾问", description: "为企业提供法律建议和风险评估。" },
      { id: "notary-public", title: "公证员", description: "负责公证法律文件和事务。" },
      { id: "logistics-manager", title: "物流经理", description: "优化物流流程，降低成本。" },
      { id: "supply-chain-analyst", title: "供应链分析师", description: "分析供应链数据，提供优化建议。" },
      { id: "warehouse-manager", title: "仓库经理", description: "负责仓库的管理和运营。" },
      { id: "transportation-coordinator", title: "运输协调员", description: "协调运输计划，确保货物准时送达。" },
      { id: "procurement-specialist", title: "采购专员", description: "负责采购物资，优化采购流程。" }
    ];

    // 自动搜索功能增强
    function autoSearch() {
      const searchTerm = getSearchTerm();
      if (searchTerm) {
        document.getElementById('searchInput').value = searchTerm;
        // 自动触发搜索逻辑（复用原搜索函数）
        searchCareers();
      }
    }
    // 页面加载完成后执行
    window.addEventListener('DOMContentLoaded', autoSearch);
    // 修正后的搜索函数
    function searchCareers() {
      const input = document.getElementById("careerSearchInput").value.toLowerCase();
      const results = careers.filter(career =>
        career.title.toLowerCase().includes(input) ||
        career.description.toLowerCase().includes(input)
      );

      const resultsContainer = document.getElementById("searchResults");
      resultsContainer.innerHTML = "";

      if (results.length === 0) {
        resultsContainer.innerHTML = `
          <div class="no-results">
            <span class="material-icons">search_off</span>
            <p>没有找到相关职业，请尝试其他关键词</p>
          </div>`;
      } else {
        results.forEach(career => {
          const card = document.createElement("div");
          card.className = "search-result-card";
          card.innerHTML = `
            <h3>${career.title}</h3>
            <p>${career.description}</p>
            <a href="#${career.id}" class="view-link">查看详情</a>
          `;
          resultsContainer.appendChild(card);
        });
      }
      // 同步更新URL（保留搜索历史）
      if (history.replaceState) {
        const newurl = `${window.location.pathname}?q=${encodeURIComponent(input)}`;
        window.history.replaceState({ path: newurl }, '', newurl);
      }
    }



    // 修正后的切换函数
    function toggleSidebar() {
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.querySelector('.sidebar-overlay');

      // 仅切换active状态
      const isActive = sidebar.classList.toggle('active');

      // 同步紧凑模式
      sidebar.classList.toggle('compact', !isActive);

      // 遮罩层控制
      overlay.style.display = isActive ? 'block' : 'none';
    }

    // 增强登录状态检查
    function checkLoginStatus() {
      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
      const navAuth = document.getElementById('navAuth');

      if (isLoggedIn) {
        navAuth.innerHTML = `
      <span style="color:#666">欢迎回来！</span>
      <button class="btn-logout" onclick="logout()">退出登录</button>
    `;
      } else {
        navAuth.innerHTML = '<a href="login.html" class="btn-login">登录/注册</a>';
      }
    }

    // 退出登录功能
    function logout() {
      localStorage.removeItem('isLoggedIn');
      checkLoginStatus();
      window.location.reload();
    }

    // 初始化执行
    document.addEventListener('DOMContentLoaded', () => {
      checkLoginStatus();
      loadUserData();
    });

    function handleSearch() {
      const searchTerm = document.getElementById('searchInput').value;
      const encodedTerm = encodeURIComponent(searchTerm);
      window.location.href = `search.html?q=${encodedTerm}`;
    }

    document.getElementById('searchInput')
      .addEventListener('keypress', e => e.key === 'Enter' && handleSearch());
  </script>
</body>

</html>